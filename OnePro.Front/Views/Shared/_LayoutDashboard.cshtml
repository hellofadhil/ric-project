@{
    Layout = null;

    var name = Context.Session.GetString("UserName") ?? "User";
    var email = Context.Session.GetString("UserEmail") ?? "";
    var initials = name.Length > 1
        ? $"{char.ToUpper(name[0])}{char.ToUpper(name[1])}"
        : $"{char.ToUpper(name[0])}";
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - App</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">

    <style>
        .nav-item {
            display: flex;
            align-items: center;
            gap: .5rem;
            padding: .5rem .75rem;
            border-radius: .5rem;
            font-size: .875rem;
            color: rgb(71 85 105);
            transition: .15s;
        }
        .nav-item:hover {
            background: rgb(248 250 252);
            color: rgb(15 23 42);
        }
        .nav-item.active {
            background: rgb(254 242 242);
            color: rgb(220 38 38);
            font-weight: 600;
        }

        .profile-menu {
            width: 13rem;
            border-radius: 0.75rem;
            border: 1px solid rgb(226 232 240);
            background: white;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1);
            padding: .5rem 0;
        }
        .profile-menu-item {
            display: flex;
            align-items: center;
            gap: .5rem;
            font-size: .875rem;
            padding: .5rem 1rem;
            color: rgb(71 85 105);
            transition: .15s;
        }
        .profile-menu-item:hover {
            background: rgb(248 250 252);
            color: rgb(15 23 42);
        }
        .profile-menu-separator {
            height: 1px;
            background: rgb(226 232 240);
            margin: .5rem 0;
        }
        .profile-menu-danger {
            color: rgb(225 29 72);
            font-weight: 500;
        }
        .profile-menu-danger:hover {
            background: rgb(255 241 242);
        }
        .rotate-180 {
            transform: rotate(180deg);
        }
    </style>
</head>

<body class="bg-slate-50">

    <!-- HEADER -->
    <header class="sticky top-0 z-50 bg-white border-b shadow-sm flex items-center justify-between px-4 h-14">

        <!-- LEFT -->
        <div class="h-16 flex items-center  border-b border-slate-200">
    <img src="https://akiradata.co.id/wp-content/uploads/2020/05/logo-pertamina.png"
         alt="Pertamina Logo"
         class="h-12 w-auto object-contain" />
</div>


        <!-- RIGHT PROFILE -->
        <div class="relative">
            <button onclick="toggleProfileMenu()" class="flex items-center gap-2 bg-slate-100 px-2 py-1 rounded-full hover:bg-slate-200">
                <div class="h-9 w-9 rounded-full bg-slate-800 text-white text-sm font-semibold flex items-center justify-center">
                    @initials
                </div>
                <i id="caretIcon" class="ri-arrow-down-s-line text-slate-500 transition-transform"></i>
            </button>

            <div id="profileMenu" class="hidden absolute right-0 mt-2 z-50">
                <div class="profile-menu">

                    <div class="px-4 py-2 border-b">
                        <div class="font-semibold">@name</div>
                        <div class="text-xs text-slate-400">@email</div>
                    </div>

                    <a href="/Profile" class="profile-menu-item">
                        ðŸ‘¤ My Profile
                    </a>

                    <a href="/Settings" class="profile-menu-item">
                        âš™ Settings
                    </a>

                    <div class="profile-menu-separator"></div>

                    <form method="post" action="@Url.Action("Logout", "Auth")">
                        @Html.AntiForgeryToken()
                        <button class="profile-menu-item profile-menu-danger w-full text-left">
                            âŽ‹ Logout
                        </button>
                    </form>

                </div>
            </div>
        </div>
    </header>

    <!-- SIDEBAR -->
    <aside id="sidebar"
           class="fixed inset-y-0 left-0 z-40 w-52 bg-white border-r border-slate-200 shadow-sm
                  transform -translate-x-full lg:translate-x-0
                  transition-transform duration-300 ease-in-out">

        <div class="p-4 font-bold text-lg border-b">Logo</div>

        <nav class="px-3 py-4 space-y-1 text-sm">

            <p class="px-3 text-[11px] font-semibold tracking-[0.16em] text-slate-400 uppercase mb-1">
                Main
            </p>

            <a href="/Dashboard"
               class="nav-item @(Context.Request.Path == "/Dashboard" ? "active" : "")">
                <i class="ri-dashboard-line"></i>
                <span>Dashboard</span>
            </a>

            <a href="/Ric"
               class="nav-item @(Context.Request.Path == "/Ric" ? "active" : "")">
                <i class="ri-file-list-3-line"></i>
                <span>RIC System</span>
            </a>

            <a href="/User"
               class="nav-item @(Context.Request.Path == "/User" ? "active" : "")">
                <i class="ri-group-line"></i>
                <span>User Management</span>
            </a>

            <a href="/Settings"
               class="nav-item @(Context.Request.Path == "/Settings" ? "active" : "")">
                <i class="ri-settings-3-line"></i>
                <span>Settings</span>
            </a>

            <div class="pt-4 mt-4 border-t">
                <form method="post" action="@Url.Action("Logout", "Auth")">
                    @Html.AntiForgeryToken()
                    <button class="nav-item text-rose-600 hover:bg-rose-50 w-full text-left">
                        <i class="ri-logout-box-line"></i>
                        <span>Logout</span>
                    </button>
                </form>
            </div>

        </nav>
    </aside>

    <!-- OVERLAY (MOBILE) -->
    <div id="sidebarOverlay"
         onclick="toggleSidebar()"
         class="fixed inset-0 z-30 bg-black/30 opacity-0 pointer-events-none lg:hidden transition-opacity duration-300"></div>

    <!-- MAIN -->
<main class="lg:ml-52 px-2 sm:px-4 lg:px-6 py-4">
        @RenderBody()
    </main>

    @RenderSection("Scripts", required: false)

    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById("sidebar");
            const overlay = document.getElementById("sidebarOverlay");
            const hidden = sidebar.classList.contains("-translate-x-full");

            sidebar.classList.toggle("-translate-x-full", !hidden);

            overlay.classList.toggle("opacity-0", !hidden);
            overlay.classList.toggle("pointer-events-none", !hidden);

            overlay.classList.toggle("opacity-100", hidden);
        }

        function toggleProfileMenu() {
            const menu = document.getElementById("profileMenu");
            const icon = document.getElementById("caretIcon");

            menu.classList.toggle("hidden");
            icon.classList.toggle("rotate-180");
        }

        window.addEventListener("click", function (e) {
            const menu = document.getElementById("profileMenu");
            if (!e.target.closest("#profileMenu") && !e.target.closest("button")) {
                if (!menu.classList.contains("hidden")) {
                    menu.classList.add("hidden");
                    document.getElementById("caretIcon").classList.remove("rotate-180");
                }
            }
        });
    </script>

</body>
</html>
