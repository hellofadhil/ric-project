CREATE PROCEDURE SP_UndanganFormRics_Get
AS
BEGIN
    SET NOCOUNT ON;

    SELECT *
    FROM UndanganFormRics
    WHERE IsDeleted = 0
END
GO

CREATE PROCEDURE SP_UndanganFormRics_GetById
    @Id UNIQUEIDENTIFIER
AS
BEGIN
    SET NOCOUNT ON;

    SELECT *
    FROM UndanganFormRics
    WHERE Id = @Id AND IsDeleted = 0
END
GO

CREATE PROCEDURE SP_UndanganFormRics_Create
    @Id UNIQUEIDENTIFIER,
    @IdBr UNIQUEIDENTIFIER,
    @IdUser UNIQUEIDENTIFIER,
    @IdGroupUser UNIQUEIDENTIFIER,
    @EmailUser NVARCHAR(255),
    @Subject NVARCHAR(255),
    @Content NVARCHAR(MAX),
    @Link NVARCHAR(MAX)
AS
BEGIN
    INSERT INTO UndanganFormRics(
        Id, IdBr, IdUser, IdGroupUser,
        EmailUser, Subject, Content, Link,
        CreatedAt, IsDeleted
    )
    VALUES(
        @Id, @IdBr, @IdUser, @IdGroupUser,
        @EmailUser, @Subject, @Content, @Link,
        SYSDATETIMEOFFSET(), 0
    )
END
GO

CREATE PROCEDURE SP_UndanganFormRics_Update
    @Id UNIQUEIDENTIFIER,
    @Subject NVARCHAR(255),
    @Content NVARCHAR(MAX),
    @Link NVARCHAR(MAX)
AS
BEGIN
    UPDATE UndanganFormRics SET
        Subject = @Subject,
        Content = @Content,
        Link = @Link
    WHERE Id = @Id AND IsDeleted = 0
END
GO

CREATE PROCEDURE SP_UndanganFormRics_Delete
    @Id UNIQUEIDENTIFIER
AS
BEGIN
    UPDATE UndanganFormRics
    SET IsDeleted = 1
    WHERE Id = @Id
END
GO
